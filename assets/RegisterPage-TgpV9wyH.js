import{u as b,r,c as m,a as s,w as y,b as V,d,v as p,e as f,t as c,f as k,g as x,h as P,i as R,o as g,j as N}from"./index-SSWhBcg-.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"auth-page"},B={class:"auth-container"},C={class:"form-group"},E={class:"form-group"},U={class:"form-group"},D={key:0,class:"error-message"},M=["disabled"],T={class:"auth-footer"},j={__name:"RegisterPage",setup(A){const _=R(),i=b(),l=r(""),o=r(""),n=r(""),u=r(!1),a=r("");async function w(){if(a.value="",!l.value||!o.value){a.value="Заполни все поля";return}if(o.value!==n.value){a.value="Пароли не совпадают";return}if(o.value.length<6){a.value="Пароль должен быть минимум 6 символов";return}u.value=!0;try{await i.register(l.value,o.value),_.push("/dashboard")}catch(v){console.error("Registration failed:",v)}finally{u.value=!1}}return(v,e)=>{const h=P("router-link");return g(),m("div",q,[s("div",B,[e[8]||(e[8]=s("div",{class:"auth-header"},[s("h1",null,"⚔️ Создать персонажа"),s("p",null,"Начни своё приключение")],-1)),s("form",{onSubmit:y(w,["prevent"]),class:"auth-form"},[s("div",C,[e[3]||(e[3]=s("label",{for:"email"},"Email",-1)),d(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),type:"email",placeholder:"adventurer@realm.com",required:""},null,512),[[p,l.value]])]),s("div",E,[e[4]||(e[4]=s("label",{for:"password"},"Пароль",-1)),d(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>o.value=t),type:"password",placeholder:"Минимум 6 символов",required:""},null,512),[[p,o.value]])]),s("div",U,[e[5]||(e[5]=s("label",{for:"confirmPassword"},"Подтверди пароль",-1)),d(s("input",{id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=t=>n.value=t),type:"password",placeholder:"Повтори пароль",required:""},null,512),[[p,n.value]])]),a.value||f(i).error?(g(),m("p",D,c(a.value||f(i).error),1)):V("",!0),s("button",{type:"submit",class:"btn-primary",disabled:u.value},c(u.value?"Создаём...":"Создать аккаунт"),9,M)],32),s("div",T,[e[7]||(e[7]=s("p",null,"Уже есть аккаунт?",-1)),k(h,{to:"/login",class:"link"},{default:x(()=>[...e[6]||(e[6]=[N("Войти",-1)])]),_:1})])])])}}},z=S(j,[["__scopeId","data-v-17799701"]]);export{z as default};
